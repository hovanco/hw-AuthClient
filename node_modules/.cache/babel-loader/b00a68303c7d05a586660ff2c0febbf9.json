{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/AuthClient/src/features/auth/pages/forgot-password/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Form, Input, message } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { get } from 'lodash';\nimport { forgotPassword } from '../../../../api';\nimport AuthLayout from '../../../../components/auth-layout';\nimport FormHeader from '../../components/form-header/FormHeader';\nimport InnerAuth from '../../components/inner-auth/InnerAuth';\nimport './style.less';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst title = 'Quên mật khẩu';\nconst subTitle = 'Sử dụng địa chỉ email của bạn';\nconst leftTitle = 'One of us?';\nconst leftDescription = 'Lorem Ipsum is simply dummy text of the  printing and typesetting industry';\nconst loginTitle = 'Đăng nhập';\nconst subTitleSend = 'Chúng tôi vừa gửi cho bạn một email';\nconst subTitleInstruction = 'Vui lòng làm theo hướng dẫn trong email để truy cập tài khoản của bạn.';\nexport const errorCommon = 'Xảy ra lỗi, vui lòng kiểm tra lại';\nconst errorExistRequest = 'Yêu cầu đặt lại mật khẩu đã tồn tại, vui lòng kiểm tra lại';\nconst errorValidEmail = 'Vui lòng nhập đúng định dạng email!';\n\nconst ForgotPassword = () => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    localStorage.removeItem('shortLiveToken');\n  }, []);\n\n  const handleSubmit = async value => {\n    try {\n      setLoading(true);\n      const response = await forgotPassword(value);\n\n      if ((response === null || response === void 0 ? void 0 : response.status) !== 200) {\n        message.error(errorCommon);\n        return;\n      }\n\n      setSuccess(true);\n    } catch (error) {\n      const errorMessage = get(error, 'response.data.message') === 'RESET_REQUEST_ALREADY_EXISTS' ? errorExistRequest : errorCommon;\n      message.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(AuthLayout, {\n    title: title,\n    children: /*#__PURE__*/_jsxDEV(InnerAuth, {\n      authContent: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"auth-content-title\",\n          children: leftTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"auth-content-des\",\n          children: leftDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          htmlType: \"submit\",\n          block: true,\n          className: \"auth-content-button\",\n          onClick: () => {\n            history.push(`/login${history.location.search}`);\n          },\n          children: loginTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(FormHeader, {\n          title: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onFinish: handleSubmit,\n          layout: \"vertical\",\n          className: \"form\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-content\",\n            children: success ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"form-content-title\",\n                children: subTitleSend\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"form-content-title\",\n                children: subTitleInstruction\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"form-content-title\",\n                children: subTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"email\",\n                rules: [{\n                  required: true,\n                  message: 'Vui lòng nhập Email'\n                }, {\n                  type: 'email',\n                  message: errorValidEmail\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Email\",\n                  className: \"input-auth\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                htmlType: \"submit\",\n                className: \"button-forget-password \",\n                loading: loading,\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ForgotPassword, \"S84VBGZdRRNYORr0rNrIy729CrU=\", false, function () {\n  return [useHistory];\n});\n\n_c = ForgotPassword;\nexport default ForgotPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ForgotPassword\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/AuthClient/src/features/auth/pages/forgot-password/index.tsx"],"names":["Button","Form","Input","message","React","useEffect","useState","useHistory","get","forgotPassword","AuthLayout","FormHeader","InnerAuth","title","subTitle","leftTitle","leftDescription","loginTitle","subTitleSend","subTitleInstruction","errorCommon","errorExistRequest","errorValidEmail","ForgotPassword","loading","setLoading","success","setSuccess","history","localStorage","removeItem","handleSubmit","value","response","status","error","errorMessage","push","location","search","required","type"],"mappings":"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","sourcesContent":["import { Button, Form, Input, message } from 'antd';\nimport { Store } from 'antd/lib/form/interface';\nimport React, { FC, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { get } from 'lodash';\nimport { forgotPassword } from '../../../../api';\nimport AuthLayout from '../../../../components/auth-layout';\nimport FormHeader from '../../components/form-header/FormHeader';\nimport InnerAuth from '../../components/inner-auth/InnerAuth';\nimport './style.less';\n\nconst title = 'Quên mật khẩu';\nconst subTitle = 'Sử dụng địa chỉ email của bạn';\nconst leftTitle = 'One of us?';\nconst leftDescription =\n    'Lorem Ipsum is simply dummy text of the  printing and typesetting industry';\nconst loginTitle = 'Đăng nhập';\nconst subTitleSend = 'Chúng tôi vừa gửi cho bạn một email';\nconst subTitleInstruction =\n    'Vui lòng làm theo hướng dẫn trong email để truy cập tài khoản của bạn.';\nexport const errorCommon = 'Xảy ra lỗi, vui lòng kiểm tra lại';\nconst errorExistRequest = 'Yêu cầu đặt lại mật khẩu đã tồn tại, vui lòng kiểm tra lại';\nconst errorValidEmail = 'Vui lòng nhập đúng định dạng email!';\n\nexport interface ForgotPasswordProps {}\n\nconst ForgotPassword: FC<ForgotPasswordProps> = () => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [success, setSuccess] = useState<boolean>(false);\n    const history = useHistory();\n\n    useEffect(() => {\n        localStorage.removeItem('shortLiveToken');\n    }, []);\n\n    const handleSubmit = async (value: Store): Promise<void> => {\n        try {\n            setLoading(true);\n\n            const response = await forgotPassword(value);\n            if (response?.status !== 200) {\n                message.error(errorCommon);\n                return;\n            }\n            setSuccess(true);\n        } catch (error) {\n            const errorMessage =\n                get(error, 'response.data.message') === 'RESET_REQUEST_ALREADY_EXISTS'\n                    ? errorExistRequest\n                    : errorCommon;\n            message.error(errorMessage);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <AuthLayout title={title}>\n            <InnerAuth\n                authContent={\n                    <div>\n                        <p className='auth-content-title'>{leftTitle}</p>\n                        <p className='auth-content-des'>{leftDescription}</p>\n                        <Button\n                            htmlType='submit'\n                            block\n                            className='auth-content-button'\n                            onClick={() => {\n                                history.push(`/login${history.location.search}`);\n                            }}\n                        >\n                            {loginTitle}\n                        </Button>\n                    </div>\n                }\n            >\n                <div>\n                    <FormHeader title={title} />\n\n                    <Form onFinish={handleSubmit} layout='vertical' className='form'>\n                        <div className='form-content'>\n                            {success ? (\n                                <>\n                                    <p className='form-content-title'>{subTitleSend}</p>\n                                    <p className='form-content-title'>{subTitleInstruction}</p>\n                                </>\n                            ) : (\n                                <>\n                                    <p className='form-content-title'>{subTitle}</p>\n\n                                    <Form.Item\n                                        name='email'\n                                        rules={[\n                                            {\n                                                required: true,\n                                                message: 'Vui lòng nhập Email',\n                                            },\n                                            {\n                                                type: 'email',\n                                                message: errorValidEmail,\n                                            },\n                                        ]}\n                                    >\n                                        <Input placeholder='Email' className='input-auth' />\n                                    </Form.Item>\n\n                                    <Button\n                                        type='primary'\n                                        htmlType='submit'\n                                        className='button-forget-password '\n                                        loading={loading}\n                                    >\n                                        {title}\n                                    </Button>\n                                </>\n                            )}\n                        </div>\n                    </Form>\n                </div>\n            </InnerAuth>\n        </AuthLayout>\n    );\n};\nexport default ForgotPassword;\n"]},"metadata":{},"sourceType":"module"}